---
import ContactUs from "../components/ContactUs.astro";
import Headline from "../components/Headline.astro";
import FrontPage from "../layouts/FrontPage.astro";
import CollaboratorsMap from "../components/CollaboratorsMap.astro";


/* ────────────────────────────────────────────────────────────
  Editable data – add, remove or reorder freely
  -----------------------------------------------------------*/

const founders = [
  { name: "Chris Thomas", affiliation: "CERN" },
  { name: "Connie Potter", affiliation: "CERN" }
];

const coreProduction = [
  { name: "Connie Potter" },
  { name: "Phill Fox", affiliation: "Adaptavist" },
  { name: "Kaj Siebert" }
];

const videoPhoto = [
  { name: "Charlotte Potter-Landua" },
  { name: "Orlando Prügel-Bennett" },
  { name: "Claudia Sabeh" },
  { name: "Maria Fernandez Martinez" }
];

const collaborators = {
  UK: [
    { name: "Roger Jones", affiliation: "Lancaster University" },
    { name: "Alex Cerri", affiliation: "Siena University" },
    { name: "Dave Wark", affiliation: "Oxford University" },
    { name: "Dan Hardiker" }
  ],
  Denmark: [
    { name: "Joergen Beck Hansen", affiliation: "Niels Bohr Institut" },
    { name: "Ulrik Uggerhøj", affiliation: "Aarhus University" },
    { name: "Lars Varming Joergensen", affiliation: "CERN" }
  ],
  Czechia: [
    { name: "Martin Rybar", affiliation: "Charles University" },
    { name: "Vojtech Pleskot", affiliation: "Charles University" }
  ],
  Slovakia: [
    { name: "Samuel Kovacik", affiliation: "Comenius University" },
    { name: "Juraj Tekel", affiliation: "Comenius University" },
    { name: "Robert Astalos", affiliation: "Comenius University" },
    { name: "Tomas Dado", affiliation: "Comenius University" }
  ],
  Spain: [
    { name: "Eduardo Saenz de Cabezón", affiliation: "Universidad de La Rioja" },
    { name: "Cristina Romera Castillo", affiliation: "ICM, CSIC" },
    { name: "Ivan Lopez", affiliation: "IMB-CNM, CSIC" },
    { name: "Jesus Puerta Pelayo", affiliation: "CIEMAT" },
    { name: "José Calabuig Rodriguez", affiliation: "UPV" }
  ]
};

/*  Map affiliation names to URLs so they render as links.                */
const affiliationLinks = {
  CERN: "https://home.cern/",
  Adaptavist: "https://www.adaptavist.com/",
  "Lancaster University": "https://www.lancaster.ac.uk/",
  "Siena University": "https://www.unisi.it/",
  "Oxford University": "https://www.ox.ac.uk/",
  "Niels Bohr Institut": "https://www.nbi.ku.dk/",
  "Aarhus University": "https://international.au.dk/",
  "Charles University": "https://cuni.cz/",
  "Comenius University": "https://uniba.sk/",
  "Universidad de La Rioja": "https://www.unirioja.es/",
  "ICM, CSIC": "https://www.icm.csic.es/",
  "IMB-CNM, CSIC": "https://www.imb-cnm.csic.es/",
  CIEMAT: "https://www.ciemat.es/",
  UPV: "https://www.upv.es/"
};

/*  Play‑colour palette (70 % transparency)                                 */
const colours = [
  "bg-red-500/30",
  "bg-amber-500/30",
  "bg-lime-400/30",
  "bg-emerald-400/30",
  "bg-cyan-400/30",
  "bg-blue-500/30",
  "bg-violet-500/30",
  "bg-fuchsia-500/30"
];

const pickColour = (idx) => colours[idx % colours.length];

/*  Coordinates for collaborator dots on square map (768×768)              */
const coords = {
  UK: { x: 250, y: 370 },
  Denmark: { x: 395, y: 320 },
  Czechia: { x: 460, y: 455 },
  Slovakia: { x: 500, y: 475 },
  Spain: { x: 130, y: 600 }
};
---

<FrontPage>
  <Headline>About Us</Headline>

  <!-- Intro copy -->
  <p class="intro-copy my-12 mx-auto px-4">
    The Big Bang Collective is a group of scientists, makers and storytellers
    turning physics into unforgettable experiences. Tap a coloured block or use
    the map to meet the humans behind the experiments.
  </p>

  <!-- Founders ------------------------------------------------>
  <section class={`full-width-block ${pickColour(0)} py-12`}>
    <div class="max-w-screen-lg mx-auto px-4 space-y-8">
      <Headline>Founders</Headline>
      <ul class="grid justify-center gap-6 sm:grid-cols-2 md:grid-cols-3">
        {founders.map((p) => (
          <li class="p-4 rounded font-bungee text-gray-900 bg-white/50">
            <h3 class="text-lg">{p.name}</h3>
            {p.affiliation && (
              <p class="text-sm opacity-90">
                <a href={affiliationLinks[p.affiliation] ?? "#"} class="underline">
                  {p.affiliation}
                </a>
              </p>
            )}
          </li>
        ))}
      </ul>
    </div>
  </section>

  <!-- Core Production Team ------------------------------------>
  <section class={`full-width-block ${pickColour(1)} py-12`}>
    <div class="max-w-screen-lg mx-auto px-4 space-y-8">
      <Headline>Core Production Team</Headline>
      <ul class="grid justify-center gap-6 sm:grid-cols-2 md:grid-cols-3">
        {coreProduction.map((p) => (
          <li class="p-4 rounded font-bungee text-gray-900 bg-white/50">
            <h3 class="text-lg">{p.name}</h3>
            {p.affiliation && (
              <p class="text-sm opacity-90">
                <a href={affiliationLinks[p.affiliation] ?? "#"} class="underline">
                  {p.affiliation}
                </a>
              </p>
            )}
          </li>
        ))}
      </ul>
    </div>
  </section>

  <!-- Video & Photo Team ------------------------------------->
  <section class={`full-width-block ${pickColour(2)} py-12`}>
    <div class="max-w-screen-lg mx-auto px-4 space-y-8">
      <Headline>Video & Photo Team</Headline>
      <ul class="grid justify-center gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4">
        {videoPhoto.map((p) => (
          <li class="p-4 rounded font-bungee text-gray-900 bg-white/50">
            <h3 class="text-lg">{p.name}</h3>
            {p.affiliation && (
              <p class="text-sm opacity-90">
                <a href={affiliationLinks[p.affiliation] ?? "#"} class="underline">
                  {p.affiliation}
                </a>
              </p>
            )}
          </li>
        ))}
      </ul>
    </div>
  </section>

    <CollaboratorsMap
    collaborators={collaborators}
    coords={coords}
    affiliationLinks={affiliationLinks}
/>
</FrontPage>
